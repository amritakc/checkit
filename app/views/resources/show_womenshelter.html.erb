<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
<script>
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });
</script>
<div class = "backgroundMap">
  <div class="container">
    <div class ="row">
      <div class ="col-sm-4">
      <h1>Women's Shelter</h1>
      <table class="table table-bordered">
        <tbody>
          <% @x.each do |location| %>
            <tr>
              <td>
                <p><strong><%=location.name %></strong></p>
                <p><%=location.phone%></p>
                <p><%=location.street%></p>
                <p><%=location.city%>, <%=location.state%></p>
              </td>
            </tr>
         <%end%>
        </tbody>
      </table>
      <% if flash[:success] %>
      <p style="color: #f15a29;"><%= flash[:success] %></p>
      <% end %>
      </div>
      <h1> Map</h1>
      <div id = "map" class="col-sm-6" style = "border: 1px solid black; width: 60%; min-height: 800px;">
      </div>

    
      </div>

  </div>

<script>
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });
</script>

</div>
